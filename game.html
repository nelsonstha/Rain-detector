<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåßÔ∏è Simple Rain Catcher Game</title>
    <style>
        body { margin: 0; background: linear-gradient(to bottom, #87CEEB, #98D8E8); font-family: Arial, sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; }
        canvas { border: 3px solid #4682B4; background: linear-gradient(to bottom, skyblue, lightblue); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        #info { position: absolute; top: 20px; left: 20px; color: #333; font-size: 18px; font-weight: bold; }
        #gameOver { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.8); color: white; padding: 30px; border-radius: 20px; text-align: center; display: none; }
        button { padding: 10px 20px; font-size: 16px; background: #4CAF50; color: white; border: none; border-radius: 10px; cursor: pointer; margin: 10px; }
        button:hover { background: #45a049; }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="600" height="500"></canvas>
    <div id="info">
        Score: <span id="score">0</span> | Lives: <span id="lives">3</span><br>
        Use ‚Üê ‚Üí or A D to move bucket!
    </div>
    <div id="gameOver">
        <h2>üåßÔ∏è Game Over! üí¶</h2>
        <p>Final Score: <span id="finalScore">0</span></p>
        <button onclick="restartGame()">Play Again</button>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreEl = document.getElementById('score');
        const livesEl = document.getElementById('lives');
        const gameOverEl = document.getElementById('gameOver');
        const finalScoreEl = document.getElementById('finalScore');

        // Game state
        let score = 0;
        let lives = 3;
        let gameRunning = true;
        let keys = {};

        // Bucket
        const bucket = { x: 250, width: 100, height: 20, speed: 8 };

        // Raindrops array
        let raindrops = [];

        // Event listeners
        window.addEventListener('keydown', (e) => { keys[e.key.toLowerCase()] = true; });
        window.addEventListener('keyup', (e) => { keys[e.key.toLowerCase()] = false; });

        function drawBucket() {
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(bucket.x, canvas.height - bucket.height - 20, bucket.width, bucket.height);
            ctx.fillStyle = '#4682B4';
            ctx.fillRect(bucket.x + 10, canvas.height - 30, bucket.width - 20, 10); // Water inside
        }

        function drawRaindrop(drop) {
            ctx.fillStyle = drop.heavy ? '#4169E1' : '#87CEEB';
            ctx.beginPath();
            ctx.arc(drop.x, drop.y, drop.size, 0, Math.PI * 2);
            ctx.fill();
            // Trail
            ctx.strokeStyle = drop.heavy ? '#4169E1' : '#87CEEB';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(drop.x, drop.y - drop.size);
            ctx.lineTo(drop.x, drop.y + drop.size);
            ctx.stroke();
        }

        function update() {
            if (!gameRunning) return;

            // Move bucket
            if ((keys['a'] || keys['arrowleft']) && bucket.x > 0) bucket.x -= bucket.speed;
            if ((keys['d'] || keys['arrowright']) && bucket.x < canvas.width - bucket.width) bucket.x += bucket.speed;

            // Spawn raindrops
            if (Math.random() < 0.03) {
                raindrops.push({
                    x: Math.random() * (canvas.width - 20),
                    y: 0,
                    size: Math.random() * 8 + 4,
                    speed: Math.random() * 4 + 2,
                    heavy: Math.random() < 0.3
                });
            }

            // Update raindrops
            for (let i = raindrops.length - 1; i >= 0; i--) {
                const drop = raindrops[i];
                drop.y += drop.speed;

                // Collision with bucket
                if (drop.y + drop.size > canvas.height - bucket.height - 20 &&
                    drop.x > bucket.x && drop.x < bucket.x + bucket.width) {
                    score += drop.heavy ? 10 : 5;
                    raindrops.splice(i, 1);
                    continue;
                }

                // Missed (hit ground)
                if (drop.y > canvas.height) {
                    raindrops.splice(i, 1);
                    lives--;
                    if (lives <= 0) {
                        gameOver();
                    }
                }
            }

            scoreEl.textContent = score;
            livesEl.textContent = lives;
        }

        function draw() {
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw clouds
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            for (let i = 0; i < 3; i++) {
                ctx.beginPath();
                ctx.arc(100 + i * 200 + Math.sin(Date.now() * 0.001 + i) * 20, 50 + Math.sin(Date.now() * 0.002 + i) * 10, 30, 0, Math.PI * 2);
                ctx.arc(130 + i * 200 + Math.sin(Date.now() * 0.001 + i) * 20, 50 + Math.sin(Date.now() * 0.002 + i) * 10, 40, 0, Math.PI * 2);
                ctx.arc(160 + i * 200 + Math.sin(Date.now() * 0.001 + i) * 20, 50 + Math.sin(Date.now() * 0.002 + i) * 10, 30, 0, Math.PI * 2);
                ctx.fill();
            }

            // Draw raindrops
            raindrops.forEach(drawRaindrop);

            // Draw ground
            ctx.fillStyle = '#228B22';
            ctx.fillRect(0, canvas.height - 20, canvas.width, 20);

            // Draw bucket
            drawBucket();
        }

        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }

        function gameOver() {
            gameRunning = false;
            finalScoreEl.textContent = score;
            gameOverEl.style.display = 'block';
        }

        function restartGame() {
            score = 0;
            lives = 3;
            raindrops = [];
            bucket.x = 250;
            gameRunning = true;
            gameOverEl.style.display = 'none';
        }

        gameLoop();
    </script>
</body>
</html>