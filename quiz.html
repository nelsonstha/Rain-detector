<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GeneWise Quiz – Genetic Disorders</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .option {
      transition: all 0.2s;
    }
    .option:hover {
      background-color: #eff6ff;
      border-color: #60a5fa;
    }
    .selected {
      background-color: #dbeafe !important;
      border-color: #3b82f6 !important;
      font-weight: 600;
    }
    .correct {
      background-color: #d1fae5 !important;
      border-color: #10b981 !important;
    }
    .wrong {
      background-color: #fee2e2 !important;
      border-color: #ef4444 !important;
    }
  </style>
</head>
<body class="bg-slate-50 min-h-screen flex items-center justify-center p-6">

  <div class="w-full max-w-2xl bg-white rounded-2xl shadow-xl p-8 md:p-10">

    <!-- Progress -->
    <div class="mb-8">
      <div class="w-full bg-gray-200 rounded-full h-2.5">
        <div id="progress" class="bg-blue-600 h-2.5 rounded-full w-0 transition-all duration-500"></div>
      </div>
      <div class="text-center text-sm text-gray-500 mt-2">
        Question <span id="q-number">1</span> of <span id="q-total">0</span>
      </div>
    </div>

    <!-- Question -->
    <h2 id="question-text" class="text-2xl md:text-3xl font-bold text-gray-800 mb-8 text-center leading-tight"></h2>

    <!-- Options -->
    <div id="options-container" class="space-y-4 mb-10"></div>

    <!-- Feedback + button area -->
    <div class="text-center">
      <div id="feedback" class="text-lg font-medium min-h-[1.5rem] mb-6"></div>
      <button id="action-btn"
              class="px-10 py-4 bg-blue-600 text-white font-semibold rounded-xl text-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition">
        Select an answer to continue
      </button>
    </div>

    <!-- Result screen (hidden at start) -->
    <div id="result-screen" class="hidden text-center">
      <h3 class="text-4xl font-bold text-gray-800 mb-6">Quiz Complete!</h3>
      <p class="text-6xl font-black text-blue-600 mb-4">
        <span id="final-score">0</span> / <span id="final-total">0</span>
      </p>
      <p class="text-xl text-gray-600 mb-10">Correct answers</p>
      <button id="restart-btn"
              class="px-12 py-5 bg-green-600 text-white font-semibold rounded-xl text-xl hover:bg-green-700 transition">
        Play Again
      </button>
    </div>

  </div>

  <script>
    const quiz = [
      {
        question: "Which condition is caused by an extra copy of chromosome 21?",
        options: ["Turner syndrome", "Klinefelter syndrome", "Down syndrome", "Cri du chat"],
        correct: 2
      },
      {
        question: "Cystic fibrosis follows which inheritance pattern?",
        options: ["Autosomal dominant", "X-linked recessive", "Autosomal recessive", "Mitochondrial"],
        correct: 2
      },
      {
        question: "The HBB gene mutation is most associated with which disorder?",
        options: ["Cystic fibrosis", "Sickle cell disease", "Huntington disease", "Duchenne muscular dystrophy"],
        correct: 1
      },
      {
        question: "Huntington disease is caused by expanded repeats of which trinucleotide?",
        options: ["CAG", "CTG", "CGG", "GAA"],
        correct: 0
      },
      {
        question: "Which disorder is X-linked and primarily affects muscle function in boys?",
        options: ["Hemophilia A", "Duchenne muscular dystrophy", "Marfan syndrome", "Phenylketonuria"],
        correct: 1
      }
      // ← You can add 5–15 more questions here
    ];

    let current = 0;
    let score = 0;
    let selectedAnswer = null;
    let answered = false;

    const qText     = document.getElementById("question-text");
    const optionsEl = document.getElementById("options-container");
    const feedback  = document.getElementById("feedback");
    const btn       = document.getElementById("action-btn");
    const progress  = document.getElementById("progress");
    const qNumber   = document.getElementById("q-number");
    const qTotal    = document.getElementById("q-total");

    const resultScreen = document.getElementById("result-screen");
    const finalScore   = document.getElementById("final-score");
    const finalTotal   = document.getElementById("final-total");
    const restartBtn   = document.getElementById("restart-btn");

    function loadQuestion() {
      const item = quiz[current];
      qText.textContent = item.question;
      qNumber.textContent = current + 1;
      qTotal.textContent = quiz.length;

      // Progress bar
      progress.style.width = ((current + 1) / quiz.length) * 100 + "%";

      optionsEl.innerHTML = "";
      selectedAnswer = null;
      answered = false;

      item.options.forEach((text, index) => {
        const div = document.createElement("div");
        div.className = "p-5 border-2 border-gray-300 rounded-xl cursor-pointer option text-lg";
        div.textContent = text;
        div.dataset.index = index;

        div.addEventListener("click", () => {
          if (answered) return;

          // Deselect others
          [...optionsEl.children].forEach(el => el.classList.remove("selected"));
          div.classList.add("selected");

          selectedAnswer = index;
          btn.disabled = false;
          btn.textContent = current === quiz.length - 1 ? "Finish Quiz" : "Next Question";
        });

        optionsEl.appendChild(div);
      });

      feedback.textContent = "";
      btn.disabled = true;
      btn.textContent = "Select an answer to continue";
    }

    function showAnswer() {
      answered = true;
      const correctIdx = quiz[current].correct;

      [...optionsEl.children].forEach(el => {
        const idx = parseInt(el.dataset.index);
        if (idx === correctIdx) {
          el.classList.add("correct");
        }
        if (idx === selectedAnswer) {
          if (idx === correctIdx) {
            score++;
            feedback.textContent = "Correct! ✓";
            feedback.className = "text-green-700 font-semibold";
          } else {
            el.classList.add("wrong");
            feedback.textContent = "Incorrect";
            feedback.className = "text-red-700 font-semibold";
          }
        }
      });

      btn.disabled = false;
    }

    btn.addEventListener("click", () => {
      if (!answered) {
        // First click after selection → show answer
        showAnswer();
      } else if (current < quiz.length - 1) {
        // Already answered → go next
        current++;
        loadQuestion();
      } else {
        // Last question answered → show result
        resultScreen.classList.remove("hidden");
        document.querySelector("#action-btn").classList.add("hidden");
        finalScore.textContent = score;
        finalTotal.textContent = quiz.length;
      }
    });

    restartBtn.addEventListener("click", () => {
      current = 0;
      score = 0;
      resultScreen.classList.add("hidden");
      document.querySelector("#action-btn").classList.remove("hidden");
      loadQuestion();
    });

    // Start
    loadQuestion();
  </script>
</body>
</html>